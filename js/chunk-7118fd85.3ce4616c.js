(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7118fd85"],{"4e82":function(e,t,r){"use strict";var s=r("23e7"),n=r("1c0b"),o=r("7b0b"),i=r("d039"),a=r("b301"),c=[],d=c.sort,u=i((function(){c.sort(void 0)})),l=i((function(){c.sort(null)})),h=a("sort"),v=u||!l||h;s({target:"Array",proto:!0,forced:v},{sort:function(e){return void 0===e?d.call(o(this)):d.call(o(this),n(e))}})},"67e3":function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("loading",{attrs:{active:e.isLoading,color:"white","background-color":"#17181c"},on:{"update:active":function(t){e.isLoading=t}}}),r("h1",[e._v("Orders")]),r("div",{staticClass:"table"},[e._m(0),e._l(e.sortedOrders.slice((e.currPage-1)*e.itemOfPage,e.currPage*e.itemOfPage),(function(t){return r("div",{key:t._id,staticClass:"table-item"},[r("div",[e._v(e._s(t.date))]),r("div",[e._v(e._s(t._id))]),r("div",[t.paymentStatus?r("span",{staticClass:"text-success"},[e._v("已付款")]):r("span",{staticClass:"text-failure"},[e._v("未付款")])]),r("div",[r("router-link",{attrs:{to:{path:"order/"+t._id}}},[r("button",{staticClass:"edit"},[e._v("查看")])]),r("button",{staticClass:"delete",on:{click:function(r){return e.showAlertBind(t)}}},[e._v("刪除")]),r("div",{directives:[{name:"show",rawName:"v-show",value:e.showAlert,expression:"showAlert"}],staticClass:"modal"},[r("div",[e._v("確定要刪除這個訂單嗎?")]),r("button",{on:{click:e.deleteOrder}},[e._v("確定")]),r("button",{on:{click:function(t){e.showAlert=!1}}},[e._v("取消")])])],1)])}))],2),r("div",{directives:[{name:"show",rawName:"v-show",value:e.showDelete,expression:"showDelete"}],staticClass:"modal"},[e._v("刪除成功")]),r("Pagination",{attrs:{currPage:e.currPage,totalPage:e.totalPage},on:{setPage:e.setPage}})],1)},n=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"table-item"},[r("div",[e._v("購買日期")]),r("div",[e._v("訂單編號")]),r("div",[e._v("是否付款")]),r("div",[e._v("操作")])])}],o=(r("a4d3"),r("4de4"),r("4160"),r("4e82"),r("e439"),r("dbb4"),r("b64b"),r("d3b7"),r("159b"),r("96cf"),r("2909")),i=r("ade3"),a=r("bc3a"),c=r.n(a),d=r("1799"),u=r("2f62");function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){Object(i["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var v={data:function(){return{currPage:1,showAlert:!1,showDelete:!1,removeTempId:""}},components:{Pagination:d["a"]},computed:h({},Object(u["b"])(["orders","itemOfPage","isLoading"]),{totalPage:function(){return Math.ceil(this.orders.length/this.itemOfPage)},sortedOrders:function(){var e=Object(o["a"])(this.orders);return e=e.sort((function(e,t){return e.date<t.date?1:-1})),e}}),methods:{setPage:function(e){this.currPage!==e&&(this.currPage=e,window.scrollTo(0,0))},showAlertBind:function(e){this.showAlert=!0,this.removeTempId=e._id},deleteOrder:function(){var e=this;return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return this.$store.state.isLoading=!0,this.showAlert=!1,t.prev=2,t.next=5,regeneratorRuntime.awrap(c.a.delete("https://guarded-garden-48374.herokuapp.com/orders/"+this.removeTempId,{headers:{token:this.$store.state.token}}));case 5:this.getOrders(),this.showDelete=!0,setTimeout((function(){e.showDelete=!1}),1e3),t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](2),alert("此帳號無法進行操作"),this.$store.state.isLoading=!1;case 14:case"end":return t.stop()}}),null,this,[[2,10]])},getOrders:function(){this.$store.dispatch("getOrders","https://guarded-garden-48374.herokuapp.com/orders/")}},created:function(){this.getOrders()}},f=v,p=r("2877"),g=Object(p["a"])(f,s,n,!1,null,null,null);t["default"]=g.exports}}]);
//# sourceMappingURL=chunk-7118fd85.3ce4616c.js.map