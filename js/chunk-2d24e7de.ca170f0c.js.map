{"version":3,"sources":["webpack:///./src/views/Dashboard/EditProduct.vue?5541","webpack:///src/views/Dashboard/EditProduct.vue","webpack:///./src/views/Dashboard/EditProduct.vue?1178","webpack:///./src/views/Dashboard/EditProduct.vue","webpack:///./node_modules/core-js/modules/es.array.find.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","isLoading","on","$event","name","price","remaining","src","type","submitForm","directives","rawName","value","expression","staticClass","_v","staticRenderFns","data","showUpdate","components","computed","$store","state","product","products","find","mounted","methods","component","$","$find","addToUnscopables","FIND","SKIPS_HOLES","Array","target","proto","forced","callbackfn","arguments","length","undefined"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,UAAU,CAACE,MAAM,CAAC,OAASN,EAAIO,UAAU,MAAQ,QAAQ,mBAAmB,WAAWC,GAAG,CAAC,gBAAgB,SAASC,GAAQT,EAAIO,UAAUE,MAAWL,EAAG,cAAc,CAACE,MAAM,CAAC,KAAON,EAAIU,KAAK,MAAQV,EAAIW,MAAM,UAAYX,EAAIY,UAAU,IAAMZ,EAAIa,IAAI,KAAOb,EAAIc,MAAMN,GAAG,CAAC,WAAaR,EAAIe,cAAcX,EAAG,MAAM,CAACY,WAAW,CAAC,CAACN,KAAK,OAAOO,QAAQ,SAASC,MAAOlB,EAAc,WAAEmB,WAAW,eAAeC,YAAY,SAAS,CAACpB,EAAIqB,GAAG,WAAW,IACliBC,EAAkB,G,2ECqBtB,GACEC,KADF,WAEI,MAAO,CACLb,KAAM,GACNC,MAAO,GACPE,IAAK,GACLD,UAAW,GACXE,KAAM,GACNU,YAAY,IAGhBC,WAAY,CAAd,oBACEC,SAAU,CACRnB,UADJ,WAEM,OAAON,KAAK0B,OAAOC,MAAMrB,WAE3BsB,QAJJ,WAIA,WACM,OAAO5B,KAAK0B,OAAOC,MAAME,SAASC,MACxC,YAAQ,OAAR,gCAIEC,QAtBF,WAuBQ/B,KAAK4B,UACP5B,KAAKS,KAAOT,KAAK4B,QAAQnB,KACzBT,KAAKU,MAAQV,KAAK4B,QAAQlB,MAC1BV,KAAKW,UAAYX,KAAK4B,QAAQjB,UAC9BX,KAAKY,IAAMZ,KAAK4B,QAAQhB,IACxBZ,KAAKa,KAAOb,KAAK4B,QAAQf,OAG7BmB,QAAS,CACP,WADJ,SACA,GADA,oGAEA,iBACA,mBACA,2BACA,eACA,iBACA,+BAPA,2CASA,IACA,MACA,wEACA,CACA,eACA,iBACA,yBACA,aACA,gBAEA,CACA,0CAGA,iBACA,gBACA,4BACA,uBACA,gBACA,wCACA,SA7BA,4DAgCA,mBACA,+BAjCA,4DCrDoW,I,YCOhWC,EAAY,eACd,EACAnC,EACAuB,GACA,EACA,KACA,KACA,MAIa,aAAAY,E,6CCjBf,IAAIC,EAAI,EAAQ,QACZC,EAAQ,EAAQ,QAAgCL,KAChDM,EAAmB,EAAQ,QAE3BC,EAAO,OACPC,GAAc,EAGdD,IAAQ,IAAIE,MAAM,GAAGF,IAAM,WAAcC,GAAc,KAI3DJ,EAAE,CAAEM,OAAQ,QAASC,OAAO,EAAMC,OAAQJ,GAAe,CACvDR,KAAM,SAAca,GAClB,OAAOR,EAAMnC,KAAM2C,EAAYC,UAAUC,OAAS,EAAID,UAAU,QAAKE,MAKzEV,EAAiBC","file":"js/chunk-2d24e7de.ca170f0c.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('loading',{attrs:{\"active\":_vm.isLoading,\"color\":'white',\"background-color\":'#17181c'},on:{\"update:active\":function($event){_vm.isLoading=$event}}}),_c('ProductForm',{attrs:{\"name\":_vm.name,\"price\":_vm.price,\"remaining\":_vm.remaining,\"src\":_vm.src,\"type\":_vm.type},on:{\"submitForm\":_vm.submitForm}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showUpdate),expression:\"showUpdate\"}],staticClass:\"modal\"},[_vm._v(\"更新成功\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <loading\r\n      :active.sync=\"isLoading\"\r\n      :color=\"'white'\"\r\n      :background-color=\"'#17181c'\"\r\n    ></loading>\r\n    <ProductForm\r\n      :name=\"name\"\r\n      :price=\"price\"\r\n      :remaining=\"remaining\"\r\n      :src=\"src\"\r\n      :type=\"type\"\r\n      @submitForm=\"submitForm\"\r\n    />\r\n    <div class=\"modal\" v-show=\"showUpdate\">更新成功</div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport ProductForm from \"@/components/ProductForm\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      name: \"\",\r\n      price: \"\",\r\n      src: \"\",\r\n      remaining: \"\",\r\n      type: \"\",\r\n      showUpdate: false,\r\n    };\r\n  },\r\n  components: { ProductForm },\r\n  computed: {\r\n    isLoading() {\r\n      return this.$store.state.isLoading;\r\n    },\r\n    product() {\r\n      return this.$store.state.products.find(\r\n        (item) => item._id === this.$route.params.id\r\n      );\r\n    },\r\n  },\r\n  mounted() {\r\n    if (this.product) {\r\n      this.name = this.product.name;\r\n      this.price = this.product.price;\r\n      this.remaining = this.product.remaining;\r\n      this.src = this.product.src;\r\n      this.type = this.product.type;\r\n    }\r\n  },\r\n  methods: {\r\n    async submitForm(val) {\r\n      this.name = val.name;\r\n      this.price = val.price;\r\n      this.remaining = val.remaining;\r\n      this.src = val.src;\r\n      this.type = val.type;\r\n      this.$store.state.isLoading = true;\r\n      try {\r\n        await axios\r\n          .patch(\r\n            process.env.VUE_APP_PRODUCTS_URL + this.product._id,\r\n            {\r\n              name: this.name,\r\n              price: this.price,\r\n              remaining: this.remaining,\r\n              src: this.src,\r\n              type: this.type,\r\n            },\r\n            {\r\n              headers: { token: this.$store.state.token },\r\n            }\r\n          )\r\n          .then(() => {\r\n            this.showUpdate = true;\r\n            this.$store.state.isLoading = false;\r\n            setTimeout(() => {\r\n              this.showUpdate = false;\r\n              this.$router.push(\"/dashboard/products\");\r\n            }, 1000);\r\n          });\r\n      } catch (err) {\r\n        alert(\"此帳號無法進行操作\");\r\n        this.$store.state.isLoading = false;\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditProduct.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditProduct.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EditProduct.vue?vue&type=template&id=1cb9f46c&\"\nimport script from \"./EditProduct.vue?vue&type=script&lang=js&\"\nexport * from \"./EditProduct.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar $find = require('../internals/array-iteration').find;\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\nvar FIND = 'find';\nvar SKIPS_HOLES = true;\n\n// Shouldn't skip holes\nif (FIND in []) Array(1)[FIND](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.find` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.find\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES }, {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND);\n"],"sourceRoot":""}