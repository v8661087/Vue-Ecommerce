{"version":3,"sources":["webpack:///./src/components/CartItem.vue?351b","webpack:///src/components/CartItem.vue","webpack:///./src/components/CartItem.vue?3c72","webpack:///./src/components/CartItem.vue","webpack:///./src/views/CreateOrder.vue?bb29","webpack:///src/views/CreateOrder.vue","webpack:///./src/views/CreateOrder.vue?2be0","webpack:///./src/views/CreateOrder.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","_m","_l","product","key","id","staticClass","attrs","src","name","_v","_s","quantity","price","totalPrice","discountPrice","_e","staticRenderFns","props","component","isLoading","on","$event","cart","preventDefault","createOrder","directives","rawName","value","form","expression","ref","domProps","target","composing","$set","emailError","staticStyle","submitForm","components","data","reg","showSuccess","computed","email","methods","$refs","emailInput","focus","button","click","mounted","$store","state","length","$router","push"],"mappings":"kHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACJ,EAAIM,GAAG,GAAGN,EAAIO,GAAIP,EAAQ,MAAE,SAASQ,GAAS,OAAOJ,EAAG,MAAM,CAACK,IAAID,EAAQE,GAAGC,YAAY,aAAa,CAACP,EAAG,MAAM,CAACO,YAAY,mBAAmB,CAACP,EAAG,MAAM,CAACQ,MAAM,CAAC,IAAMJ,EAAQK,IAAI,IAAML,EAAQM,QAAQV,EAAG,MAAM,CAACJ,EAAIe,GAAGf,EAAIgB,GAAGR,EAAQM,WAAWV,EAAG,MAAM,CAACO,YAAY,uBAAuB,CAACX,EAAIe,GAAGf,EAAIgB,GAAGR,EAAQS,aAAab,EAAG,MAAM,CAACO,YAAY,oBAAoB,CAACX,EAAIe,GAAG,IAAIf,EAAIgB,GAAGR,EAAQU,UAAUd,EAAG,MAAM,CAACO,YAAY,oBAAoB,CAACX,EAAIe,GAAG,KAAKf,EAAIgB,GAAGR,EAAQS,SAAWT,EAAQU,OAAO,YAAWd,EAAG,MAAM,CAACO,YAAY,yBAAyB,CAACX,EAAIe,GAAG,SAASf,EAAIgB,GAAGhB,EAAImB,eAAgBnB,EAAIoB,gBAAkBpB,EAAImB,WAAYf,EAAG,MAAM,CAACO,YAAY,kCAAkC,CAACX,EAAIe,GAAG,WAAWf,EAAIgB,GAAGhB,EAAIoB,eAAe,OAAOpB,EAAIqB,MAAM,IAC91BC,EAAkB,CAAC,WAAa,IAAItB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACO,YAAY,aAAa,CAACP,EAAG,MAAM,CAACO,YAAY,mBAAmB,CAACX,EAAIe,GAAG,QAAQX,EAAG,MAAM,CAACO,YAAY,uBAAuB,CAACX,EAAIe,GAAG,QAAQX,EAAG,MAAM,CAACO,YAAY,oBAAoB,CAACX,EAAIe,GAAG,QAAQX,EAAG,MAAM,CAACO,YAAY,oBAAoB,CAACX,EAAIe,GAAG,YC6BhX,G,UAAA,CACED,KAAM,OACNS,MAAO,CAAT,qDChCkV,I,YCO9UC,EAAY,eACd,EACAzB,EACAuB,GACA,EACA,KACA,KACA,MAIa,OAAAE,E,oDClBf,IAAIzB,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACO,YAAY,QAAQ,CAACP,EAAG,UAAU,CAACQ,MAAM,CAAC,OAASZ,EAAIyB,UAAU,MAAQ,QAAQ,mBAAmB,WAAWC,GAAG,CAAC,gBAAgB,SAASC,GAAQ3B,EAAIyB,UAAUE,MAAW3B,EAAIM,GAAG,GAAGF,EAAG,KAAK,CAACJ,EAAIe,GAAG,WAAWX,EAAG,MAAM,CAACO,YAAY,oBAAoB,CAACP,EAAG,WAAW,CAACQ,MAAM,CAAC,KAAOZ,EAAI4B,KAAK,WAAa5B,EAAImB,WAAW,cAAgBnB,EAAIoB,kBAAkB,GAAGhB,EAAG,KAAK,CAACJ,EAAIe,GAAG,aAAaX,EAAG,OAAO,CAACsB,GAAG,CAAC,OAAS,SAASC,GAAgC,OAAxBA,EAAOE,iBAAwB7B,EAAI8B,YAAYH,MAAW,CAACvB,EAAG,MAAM,CAACO,YAAY,cAAc,CAACP,EAAG,QAAQ,CAACQ,MAAM,CAAC,IAAM,cAAc,CAACZ,EAAIe,GAAG,WAAWX,EAAG,QAAQ,CAAC2B,WAAW,CAAC,CAACjB,KAAK,QAAQkB,QAAQ,UAAUC,MAAOjC,EAAIkC,KAAU,MAAEC,WAAW,eAAeC,IAAI,aAAaxB,MAAM,CAAC,KAAO,QAAQ,GAAK,YAAY,KAAO,QAAQ,YAAc,WAAW,SAAW,QAAQyB,SAAS,CAAC,MAASrC,EAAIkC,KAAU,OAAGR,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOW,OAAOC,WAAqBvC,EAAIwC,KAAKxC,EAAIkC,KAAM,QAASP,EAAOW,OAAOL,WAAW7B,EAAG,QAAQ,CAAC2B,WAAW,CAAC,CAACjB,KAAK,OAAOkB,QAAQ,SAASC,MAAOjC,EAAIkC,KAAU,MAAEC,WAAW,gBAAgB,CAACnC,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAIyC,iBAAiBrC,EAAG,MAAM,CAACO,YAAY,cAAc,CAACP,EAAG,QAAQ,CAACQ,MAAM,CAAC,IAAM,aAAa,CAACZ,EAAIe,GAAG,WAAWX,EAAG,QAAQ,CAAC2B,WAAW,CAAC,CAACjB,KAAK,QAAQkB,QAAQ,UAAUC,MAAOjC,EAAIkC,KAAa,SAAEC,WAAW,kBAAkBvB,MAAM,CAAC,KAAO,OAAO,GAAK,WAAW,KAAO,OAAO,YAAc,OAAO,SAAW,QAAQyB,SAAS,CAAC,MAASrC,EAAIkC,KAAa,UAAGR,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOW,OAAOC,WAAqBvC,EAAIwC,KAAKxC,EAAIkC,KAAM,WAAYP,EAAOW,OAAOL,aAAa7B,EAAG,MAAM,CAACO,YAAY,cAAc,CAACP,EAAG,QAAQ,CAACQ,MAAM,CAAC,IAAM,YAAY,CAACZ,EAAIe,GAAG,WAAWX,EAAG,QAAQ,CAAC2B,WAAW,CAAC,CAACjB,KAAK,QAAQkB,QAAQ,UAAUC,MAAOjC,EAAIkC,KAAY,QAAEC,WAAW,iBAAiBvB,MAAM,CAAC,KAAO,MAAM,KAAO,GAAG,GAAK,UAAU,YAAc,QAAQ,SAAW,QAAQyB,SAAS,CAAC,MAASrC,EAAIkC,KAAY,SAAGR,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOW,OAAOC,WAAqBvC,EAAIwC,KAAKxC,EAAIkC,KAAM,UAAWP,EAAOW,OAAOL,aAAa7B,EAAG,MAAM,CAACO,YAAY,cAAc,CAACP,EAAG,QAAQ,CAACQ,MAAM,CAAC,IAAM,gBAAgB,CAACZ,EAAIe,GAAG,WAAWX,EAAG,QAAQ,CAAC2B,WAAW,CAAC,CAACjB,KAAK,QAAQkB,QAAQ,UAAUC,MAAOjC,EAAIkC,KAAgB,YAAEC,WAAW,qBAAqBvB,MAAM,CAAC,KAAO,UAAU,GAAK,cAAc,YAAc,QAAQ,SAAW,QAAQyB,SAAS,CAAC,MAASrC,EAAIkC,KAAgB,aAAGR,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOW,OAAOC,WAAqBvC,EAAIwC,KAAKxC,EAAIkC,KAAM,cAAeP,EAAOW,OAAOL,aAAa7B,EAAG,MAAM,CAACO,YAAY,cAAc,CAACP,EAAG,QAAQ,CAACQ,MAAM,CAAC,IAAM,YAAY,CAACZ,EAAIe,GAAG,QAAQX,EAAG,WAAW,CAAC2B,WAAW,CAAC,CAACjB,KAAK,QAAQkB,QAAQ,UAAUC,MAAOjC,EAAIkC,KAAY,QAAEC,WAAW,iBAAiBvB,MAAM,CAAC,KAAO,UAAU,GAAK,UAAU,KAAO,KAAK,KAAO,MAAMyB,SAAS,CAAC,MAASrC,EAAIkC,KAAY,SAAGR,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOW,OAAOC,WAAqBvC,EAAIwC,KAAKxC,EAAIkC,KAAM,UAAWP,EAAOW,OAAOL,aAAa7B,EAAG,QAAQ,CAACgC,IAAI,SAASM,YAAY,CAAC,QAAU,QAAQ9B,MAAM,CAAC,KAAO,SAAS,MAAQ,YAAYR,EAAG,MAAM,CAACO,YAAY,eAAe,CAACP,EAAG,cAAc,CAACQ,MAAM,CAAC,GAAK,MAAM,CAACR,EAAG,SAAS,CAACO,YAAY,kBAAkB,CAACX,EAAIe,GAAG,eAAeX,EAAG,MAAM,CAACA,EAAG,cAAc,CAACQ,MAAM,CAAC,GAAK,UAAU,CAACR,EAAG,SAAS,CAACO,YAAY,iBAAiB,CAACX,EAAIe,GAAG,WAAWX,EAAG,SAAS,CAACO,YAAY,eAAee,GAAG,CAAC,MAAQ1B,EAAI2C,aAAa,CAAC3C,EAAIe,GAAG,iBAAiB,IAAI,GAAGX,EAAG,MAAM,CAAC2B,WAAW,CAAC,CAACjB,KAAK,OAAOkB,QAAQ,SAASC,MAAOjC,EAAe,YAAEmC,WAAW,gBAAgBxB,YAAY,SAAS,CAACX,EAAIe,GAAG,YAAY,IACrhHO,EAAkB,CAAC,WAAa,IAAItB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACO,YAAY,eAAe,CAACP,EAAG,MAAM,CAACJ,EAAIe,GAAG,cAAcX,EAAG,MAAM,CAACO,YAAY,UAAU,CAACX,EAAIe,GAAG,cAAcX,EAAG,MAAM,CAACJ,EAAIe,GAAG,iB,mwBCwGtP,OACED,KAAM,QACN8B,WAAY,CAAd,iBACEC,KAHF,WAII,MAAO,CACLC,IAAK,sBACLC,aAAa,EACbtB,WAAW,IAGfuB,SAAU,EAAZ,GACA,6DADA,CAEIP,WAFJ,WAGM,MAA0B,IAAnBxC,KAAKiC,KAAKe,MACvB,GACA,+BACA,GACA,mBAGEC,QAAS,CACP,YADJ,eAEA,EAFA,sGAEA,EAFA,WAGA,gDAEA,UACA,8BACA,GACA,KACA,OACA,+BACA,qBACA,2BACA,iCACA,kBAEA,kBAhBA,kCAiBA,kEAjBA,OAkBA,kBACA,oBACA,uBACA,+BACA,iBACA,uBACA,iEACA,uBACA,gCACA,KA3BA,iDA6BIP,WA7BJ,WA8BU1C,KAAKwC,WACPxC,KAAKkD,MAAMC,WAAWC,QAEtBpD,KAAKkD,MAAMG,OAAOC,UAIxBC,QAzDF,WA0DyC,GAAjCvD,KAAKwD,OAAOC,MAAM9B,KAAK+B,QACzB1D,KAAK2D,QAAQC,KAAK,OCpK6T,I,YCOjVrC,EAAY,eACd,EACAzB,EACAuB,GACA,EACA,KACA,KACA,MAIa,aAAAE,E","file":"js/chunk-857c34d6.d15f16bf.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._m(0),_vm._l((_vm.cart),function(product){return _c('div',{key:product.id,staticClass:\"cart-item\"},[_c('div',{staticClass:\"cart-item__name\"},[_c('img',{attrs:{\"src\":product.src,\"alt\":product.name}}),_c('div',[_vm._v(_vm._s(product.name))])]),_c('div',{staticClass:\"cart-item__quantity\"},[_vm._v(_vm._s(product.quantity))]),_c('div',{staticClass:\"cart-item__price\"},[_vm._v(\"$\"+_vm._s(product.price))]),_c('div',{staticClass:\"cart-item__total\"},[_vm._v(\" $\"+_vm._s(product.quantity * product.price)+\" \")])])}),_c('div',{staticClass:\"cart-item total-price\"},[_vm._v(\"總計金額 $\"+_vm._s(_vm.totalPrice))]),(_vm.discountPrice !== _vm.totalPrice)?_c('div',{staticClass:\"cart-item total-price discount\"},[_vm._v(\" 折扣後金額 $\"+_vm._s(_vm.discountPrice)+\" \")]):_vm._e()],2)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"cart-item\"},[_c('div',{staticClass:\"cart-item__name\"},[_vm._v(\"商品\")]),_c('div',{staticClass:\"cart-item__quantity\"},[_vm._v(\"數量\")]),_c('div',{staticClass:\"cart-item__price\"},[_vm._v(\"單價\")]),_c('div',{staticClass:\"cart-item__total\"},[_vm._v(\"小計\")])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <div class=\"cart-item\">\r\n      <div class=\"cart-item__name\">商品</div>\r\n      <div class=\"cart-item__quantity\">數量</div>\r\n      <div class=\"cart-item__price\">單價</div>\r\n      <div class=\"cart-item__total\">小計</div>\r\n    </div>\r\n    <div class=\"cart-item\" v-for=\"product in cart\" :key=\"product.id\">\r\n      <div class=\"cart-item__name\">\r\n        <img :src=\"product.src\" :alt=\"product.name\" />\r\n        <div>{{ product.name }}</div>\r\n      </div>\r\n      <div class=\"cart-item__quantity\">{{ product.quantity }}</div>\r\n      <div class=\"cart-item__price\">${{ product.price }}</div>\r\n      <div class=\"cart-item__total\">\r\n        ${{ product.quantity * product.price }}\r\n      </div>\r\n    </div>\r\n    <div class=\"cart-item total-price\">總計金額 ${{ totalPrice }}</div>\r\n    <div\r\n      class=\"cart-item total-price discount\"\r\n      v-if=\"discountPrice !== totalPrice\"\r\n    >\r\n      折扣後金額 ${{ discountPrice }}\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"Cart\",\r\n  props: { cart: Array, totalPrice: Number, discountPrice: Number },\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CartItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CartItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CartItem.vue?vue&type=template&id=18cdf10a&\"\nimport script from \"./CartItem.vue?vue&type=script&lang=js&\"\nexport * from \"./CartItem.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"cart\"},[_c('loading',{attrs:{\"active\":_vm.isLoading,\"color\":'white',\"background-color\":'#17181c'},on:{\"update:active\":function($event){_vm.isLoading=$event}}}),_vm._m(0),_c('h1',[_vm._v(\"購物車清單\")]),_c('div',{staticClass:\"cart-information\"},[_c('CartItem',{attrs:{\"cart\":_vm.cart,\"totalPrice\":_vm.totalPrice,\"discountPrice\":_vm.discountPrice}})],1),_c('h1',[_vm._v(\"請填寫收件資訊\")]),_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.createOrder($event)}}},[_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"useremail\"}},[_vm._v(\"Email\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.email),expression:\"form.email\"}],ref:\"emailInput\",attrs:{\"type\":\"email\",\"id\":\"useremail\",\"name\":\"email\",\"placeholder\":\"請輸入Email\",\"required\":\"true\"},domProps:{\"value\":(_vm.form.email)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form, \"email\", $event.target.value)}}}),_c('label',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.form.email),expression:\"form.email\"}]},[_vm._v(_vm._s(_vm.emailError))])]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"username\"}},[_vm._v(\"收件人姓名\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.username),expression:\"form.username\"}],attrs:{\"type\":\"text\",\"id\":\"username\",\"name\":\"name\",\"placeholder\":\"輸入姓名\",\"required\":\"true\"},domProps:{\"value\":(_vm.form.username)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form, \"username\", $event.target.value)}}})]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"usertel\"}},[_vm._v(\"收件人電話\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.usertel),expression:\"form.usertel\"}],attrs:{\"type\":\"tel\",\"name\":\"\",\"id\":\"usertel\",\"placeholder\":\"請輸入電話\",\"required\":\"true\"},domProps:{\"value\":(_vm.form.usertel)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form, \"usertel\", $event.target.value)}}})]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"useraddress\"}},[_vm._v(\"收件人地址\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.useraddress),expression:\"form.useraddress\"}],attrs:{\"type\":\"address\",\"id\":\"useraddress\",\"placeholder\":\"請輸入地址\",\"required\":\"true\"},domProps:{\"value\":(_vm.form.useraddress)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form, \"useraddress\", $event.target.value)}}})]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"message\"}},[_vm._v(\"留言\")]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.message),expression:\"form.message\"}],attrs:{\"name\":\"message\",\"id\":\"message\",\"cols\":\"30\",\"rows\":\"10\"},domProps:{\"value\":(_vm.form.message)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form, \"message\", $event.target.value)}}})]),_c('input',{ref:\"button\",staticStyle:{\"display\":\"none\"},attrs:{\"type\":\"submit\",\"value\":\"送出表單\"}})]),_c('div',{staticClass:\"cart-action\"},[_c('router-link',{attrs:{\"to\":\"/\"}},[_c('button',{staticClass:\"step__shopping\"},[_vm._v(\"<< 繼續購物\")])]),_c('div',[_c('router-link',{attrs:{\"to\":\"/cart\"}},[_c('button',{staticClass:\"step__primary\"},[_vm._v(\"上一步\")])]),_c('button',{staticClass:\"step__danger\",on:{\"click\":_vm.submitForm}},[_vm._v(\" 下一步：完成訂單 \")])],1)],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showSuccess),expression:\"showSuccess\"}],staticClass:\"modal\"},[_vm._v(\"訂單完成!\")])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"cart-header\"},[_c('div',[_vm._v(\"1.確認購買清單\")]),_c('div',{staticClass:\"active\"},[_vm._v(\"2.填寫收件資訊\")]),_c('div',[_vm._v(\"3.完成訂單!\")])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"cart\">\r\n    <loading\r\n      :active.sync=\"isLoading\"\r\n      :color=\"'white'\"\r\n      :background-color=\"'#17181c'\"\r\n    ></loading>\r\n    <div class=\"cart-header\">\r\n      <div>1.確認購買清單</div>\r\n      <div class=\"active\">2.填寫收件資訊</div>\r\n      <div>3.完成訂單!</div>\r\n    </div>\r\n    <h1>購物車清單</h1>\r\n    <div class=\"cart-information\">\r\n      <CartItem\r\n        :cart=\"cart\"\r\n        :totalPrice=\"totalPrice\"\r\n        :discountPrice=\"discountPrice\"\r\n      />\r\n    </div>\r\n    <h1>請填寫收件資訊</h1>\r\n    <form @submit.prevent=\"createOrder\">\r\n      <div class=\"form-group\">\r\n        <label for=\"useremail\">Email</label>\r\n        <input\r\n          type=\"email\"\r\n          id=\"useremail\"\r\n          name=\"email\"\r\n          placeholder=\"請輸入Email\"\r\n          required=\"true\"\r\n          v-model=\"form.email\"\r\n          ref=\"emailInput\"\r\n        />\r\n        <label v-show=\"form.email\">{{ emailError }}</label>\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"username\">收件人姓名</label>\r\n        <input\r\n          type=\"text\"\r\n          id=\"username\"\r\n          name=\"name\"\r\n          placeholder=\"輸入姓名\"\r\n          required=\"true\"\r\n          v-model=\"form.username\"\r\n        />\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"usertel\">收件人電話</label>\r\n        <input\r\n          type=\"tel\"\r\n          name\r\n          id=\"usertel\"\r\n          placeholder=\"請輸入電話\"\r\n          required=\"true\"\r\n          v-model=\"form.usertel\"\r\n        />\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"useraddress\">收件人地址</label>\r\n        <input\r\n          type=\"address\"\r\n          id=\"useraddress\"\r\n          placeholder=\"請輸入地址\"\r\n          required=\"true\"\r\n          v-model=\"form.useraddress\"\r\n        />\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"message\">留言</label>\r\n        <textarea\r\n          name=\"message\"\r\n          id=\"message\"\r\n          cols=\"30\"\r\n          rows=\"10\"\r\n          v-model=\"form.message\"\r\n        ></textarea>\r\n      </div>\r\n      <input\r\n        style=\"display: none\"\r\n        type=\"submit\"\r\n        value=\"送出表單\"\r\n        ref=\"button\"\r\n      />\r\n    </form>\r\n    <div class=\"cart-action\">\r\n      <router-link to=\"/\">\r\n        <button class=\"step__shopping\">&lt;&lt; 繼續購物</button>\r\n      </router-link>\r\n      <div>\r\n        <router-link to=\"/cart\">\r\n          <button class=\"step__primary\">上一步</button>\r\n        </router-link>\r\n        <button @click=\"submitForm\" class=\"step__danger\">\r\n          下一步：完成訂單\r\n        </button>\r\n      </div>\r\n    </div>\r\n    <div class=\"modal\" v-show=\"showSuccess\">訂單完成!</div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport CartItem from \"../components/CartItem\";\r\nimport axios from \"axios\";\r\nimport { mapState } from \"vuex\";\r\nexport default {\r\n  name: \"order\",\r\n  components: { CartItem },\r\n  data() {\r\n    return {\r\n      reg: /^.*?@[a-z]+\\.[a-z]+/,\r\n      showSuccess: false,\r\n      isLoading: false,\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState([\"cart\", \"form\", \"totalPrice\", \"discountPrice\"]),\r\n    emailError() {\r\n      return this.form.email == \"\"\r\n        ? \"\"\r\n        : this.reg.test(this.form.email)\r\n        ? \"\"\r\n        : \"請輸入正確的Email格式\";\r\n    },\r\n  },\r\n  methods: {\r\n    async createOrder() {\r\n      function uid() {\r\n        return Math.random().toString(36).substring(2);\r\n      }\r\n      const id = uid() + uid();\r\n      const date = new Date().toLocaleString();\r\n      const data = {\r\n        id,\r\n        date,\r\n        cart: [...this.cart],\r\n        form: { ...this.form },\r\n        totalPrice: this.totalPrice,\r\n        discountPrice: this.discountPrice,\r\n        paymentStatus: false,\r\n      };\r\n      this.isLoading = true;\r\n      await axios.post(process.env.VUE_APP_ORDERS_URL, data);\r\n      this.isLoading = false;\r\n      this.showSuccess = true;\r\n      setTimeout(() => {\r\n        this.$router.push(\"/checkout/\" + id);\r\n        this.showSuccess = false;\r\n        this.$store.state.cart = [];\r\n        localStorage.setItem(\"cart\", JSON.stringify(this.$store.state.cart));\r\n        this.$store.state.form = {};\r\n        this.$store.percentDiscount = null;\r\n      }, 1000);\r\n    },\r\n    submitForm() {\r\n      if (this.emailError) {\r\n        this.$refs.emailInput.focus();\r\n      } else {\r\n        this.$refs.button.click();\r\n      }\r\n    },\r\n  },\r\n  mounted() {\r\n    if (this.$store.state.cart.length == 0) {\r\n      this.$router.push(\"/\");\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateOrder.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateOrder.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CreateOrder.vue?vue&type=template&id=21020e51&\"\nimport script from \"./CreateOrder.vue?vue&type=script&lang=js&\"\nexport * from \"./CreateOrder.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}